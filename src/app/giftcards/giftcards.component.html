@if (!loading) {
    <app-navbar></app-navbar>
    <div class="tw-max-w-lg tw-mx-auto tw-mt-3 tw-p-4">
        <h1 class="tw-text-3xl tw-font-semibold tw-text-center tw-mb-3">
            ‚Ç¨7,50 Giftcards voor Populaire Webshops
        </h1>

        <div class="tw-flex tw-items-center tw-justify-center tw-gap-6 tw-mt-4 tw-mb-6">
            <label class="tw-flex tw-items-center tw-gap-2 tw-cursor-pointer">
                <input
                        type="radio"
                        name="sort"
                        value="popular"
                        [(ngModel)]="sortMode"
                        (change)="onSortChange('popular'); sendEventToGa('Giftcards', 'sorting-popular')"
                        class="tw-accent-indigo-600"
                />
                <span class="tw-text-sm tw-text-gray-700">Populair</span>
            </label>

            <label class="tw-flex tw-items-center tw-gap-2 tw-cursor-pointer">
                <input
                        type="radio"
                        name="sort"
                        value="alphabetical"
                        [(ngModel)]="sortMode"
                        (change)="onSortChange('alphabetical'); sendEventToGa('Giftcards', 'sorting-alphabetical')"
                        class="tw-accent-indigo-600"
                />
                <span class="tw-text-sm tw-text-gray-700">Alfabetisch</span>
            </label>
        </div>

        @if (discounts.length === 0) {
            <p class="tw-text-center tw-text-gray-500">Geen giftcards gevonden.</p>
        } @else {
            <ul class="tw-space-y-3">
                @for (d of discounts; track d.index) {
                    <li>
                        <a
                            [href]="d.discountCode"
                            target="_blank"
                            (click)="sendEventToGa('Giftcards', d.company, d.discountCode)"
                            rel="noopener noreferrer"
                            class="tw-flex tw-items-center tw-justify-between tw-bg-white tw-shadow-sm hover:tw-shadow-md tw-rounded-xl tw-px-6 tw-py-4 tw-transition tw-border tw-border-gray-200 hover:tw-border-indigo-300 hover:tw-text-indigo-600"
                        >
                            <span class="tw-font-medium">{{ d.company }}</span>
                            <span class="tw-text-sm tw-text-green-600 tw-font-semibold">
                                @if (d.discountCode.includes('foldersnl')) {
                                    üîÅüí∞cashback
                                } @else {
                                    üéÅ ‚Ç¨7,50
                                }
                            </span>
                        </a>
                    </li>
                }
            </ul>
        }
    </div>
    <app-footer></app-footer>
}
