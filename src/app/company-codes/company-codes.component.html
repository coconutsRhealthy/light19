@if (!isLoading && discountCodes.length === 0) {
<div class="tw-flex tw-justify-center tw-items-center tw-py-16">
  <app-not-found></app-not-found>
</div>
}

@if (!isLoading && discountCodes.length > 0) {
<div class="tw-flex tw-flex-col tw-min-h-screen tw-bg-pink-50">
  <app-navbar></app-navbar>
  <div class="tw-w-full tw-max-w-5xl tw-mx-auto tw-px-4 sm:tw-px-6 lg:tw-px-8">

    <h1 class="tw-text-3xl md:tw-text-4xl tw-font-extrabold tw-text-700 tw-mt-8 tw-mb-6 tw-text-center">{{ webshopName }} kortingscode</h1>

    <!-- Social Banners -->
    <div class="tw-flex tw-flex-col tw-items-center tw-mb-3">
      <!-- Kleine Info Banner -->
      <div class="tw-w-full md:tw-w-1/2 tw-max-w-4xl tw-mx-auto tw-mb-1 tw-px-3 tw-py-1.5 tw-bg-green-100 tw-text-pink-800 tw-text-xs tw-text-center tw-font-small tw-border tw-border-gray-200">
        Volg mij op
        <a href="https://www.instagram.com/wiegeeftkorting/"
           onclick="gtag('event', 'insta', {'event_category': 'Social', 'event_label': 'insta_top'});"
           class="tw-underline tw-font-semibold hover:tw-text-blue-500 tw-text-blue-600 tw-transition-colors">insta</a> en
        <a href="https://www.tiktok.com/&#64;wiegeeftkorting2"
           onclick="gtag('event', 'tiktok', {'event_category': 'Social', 'event_label': 'tiktok_top'});"
           class="tw-underline tw-font-semibold hover:tw-text-blue-500 tw-text-blue-600 tw-transition-colors">tiktok</a>
        voor de nieuwste {{ webshopName }} kortingscodes
      </div>

      <!-- Giftcard Banner -->
      @if (!hasHttpCodes) {
      <div class="tw-w-full md:tw-w-1/2 tw-max-w-4xl tw-mb-1 tw-mt-1 tw-px-7 tw-py-1.5 tw-bg-yellow-100 tw-text-pink-800 tw-text-xs tw-text-center tw-font-small tw-border tw-border-gray-200">
        â‚¬7.50 gift cards voor veel shops! (o.a. Zalando, My Jewellery)
        <a [routerLink]="['/giftcards']"
           onclick="gtag('event', 'giftcard', {'event_category': 'Giftcard', 'event_label': 'giftcard_companypage_topteaser'});"
           class="tw-underline tw-font-bold hover:tw-text-blue-500 tw-text-blue-600 tw-transition-colors">KLIK</a>
      </div>
      }
    </div>

    <!-- Discount Codes Cards -->
    <div class="tw-space-y-4 tw-mt-6 tw-mb-6">
      @for (code of discountCodes; track code) {
      @if (code.code.startsWith('http')) {
      <!-- Giftcard card, full clickable -->
      <a [href]="code.code" target="_blank" (click)="sendGiftcardEventsToGa()" class="tw-block">
        <div class="tw-bg-yellow-100 tw-p-4 tw-rounded-2xl tw-shadow-md hover:tw-bg-yellow-200 tw-transition-colors">
          <div class="tw-flex tw-justify-between tw-items-center tw-mb-2">
              <span class="tw-font-semibold tw-underline tw-text-blue-600 tw-text-lg">
                {{ webshopName | uppercase }} GIFTCARD
              </span>
            <span class="tw-font-medium tw-text-gray-700">
              {{ shouldDisplayPercent(code.discount) ? (code.discount + '%') : code.discount }}
              </span>
          </div>
          <div class="tw-text-xs tw-text-pink-600 tw-mt-1">Werkt bovenop eventuele andere kortingscodes</div>
        </div>
      </a>
      } @else {
      <!-- Regular code card -->
      <div class="tw-bg-white tw-p-4 tw-rounded-2xl tw-shadow-md">
        <div class="tw-flex tw-justify-between tw-items-center tw-mb-2">
          <span class="tw-font-semibold tw-text-pink-700 tw-text-lg">{{ code.code }}</span>
          <span class="tw-font-medium tw-text-gray-700">{{ shouldDisplayPercent(code.discount) ? (code.discount + '%') : code.discount }}</span>
        </div>
        <div class="tw-text-sm tw-text-gray-500">{{ formatDate(code.date) }}</div>
      </div>
      }
      }
    </div>

    <!-- SEO Text -->
    @if (companySeoText) {
    <div class="tw-mt-6 tw-text-pink-800 tw-prose tw-prose-pink tw-max-w-none">
      <p [innerHTML]="companySeoText"></p>
    </div>
    }
  </div>

  <app-footer class="tw-mt-auto"></app-footer>
</div>
}
