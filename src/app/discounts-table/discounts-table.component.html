<div class="container-fluid">
  <div class="content">
    <app-navbar></app-navbar>
    <h1>Online shoppen met kortingscodes</h1>

    <div class="row">
      <div class="col-sm-4"></div>
      <div class="col-sm-4">
        <div class="social-banner alert alert-success" role="alert">
          Volg mij op <a href="https://www.instagram.com/wiegeeftkorting/" onclick="gtag('event', 'insta', {'event_category': 'Social', 'event_label': 'insta_top'});">insta</a> en
          <a href="https://www.tiktok.com/&#64;wiegeeftkorting2" onclick="gtag('event', 'tiktok', {'event_category': 'Social', 'event_label': 'tiktok_top'});">tiktok</a> voor code updates
        </div>

        <div class="social-banner alert alert-success" role="alert">
          â‚¬100 shoptegoed en 30% korting bij Temu, klik <a href="https://temu.to/m/u0p32ew176i" target="_blank" onclick="gtag('event', 'temu', {'event_category': 'Temu', 'event_label': 'try_temu'});">hier</a>
        </div>
      </div>
      <div class="col-sm-4"></div>
    </div>

    <div class="row my-2">
      <div class="col-12 col-md-8 offset-md-2">
        <a rel="sponsored"
           onclick="gtag('event', 'diski_pick', {'event_category': 'Diski_Pick', 'event_label': 'diski_pick_homepage'});"
           href="https://tidd.ly/4nH3mqb"
           target="_blank"
           class="card shadow-sm text-decoration-none d-block">

          <div class="card-header promo-header text-center">
            Diski Pick ðŸ”¥ V&D prijzencircus is terug!
          </div>

          <div class="card-body p-0 text-center">
            <img src="https://i.imgur.com/w67G305.png"
                 class="img-fluid"
                 alt="diski-pick-banner">
          </div>
        </a>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10">
        <div class="mb-3 table-search-input">
          <div class="input-wrapper">
            <input
                    type="text"
                    class="form-control"
                    placeholder="Zoek op webshop..."
                    [(ngModel)]="searchTerm"
                    (input)="onSearch()"
            />
            @if (searchTerm) {
              <button
                      type="button"
                      class="btn-close"
                      (click)="searchTerm = ''; onSearch()"
                      aria-label="Clear"
              >&times;</button>
            }
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-striped table-hover table-bordered">
            <thead class="thead-dark">
            <tr>
              <th>
                Korting bij
                <button class="btn btn-sm btn-link sort-button" (click)="sortByCompany()" title="Sort by company">â–²â–¼</button>
              </th>
              <th>Met code</th>
              <th>%</th>
              <th>
                Datum <button class="btn btn-sm btn-link sort-button" (click)="sortByDate()" title="Sort by date">â–²â–¼</button>
              </th>
            </tr>
            </thead>
            <tbody>
              @for (discount of paginatedDiscounts; track discount) {
                <tr>
                  <td id="companyRow{{discount.index}}">
                    <a [routerLink]="['/', discount.company.split('(')[0].trim()]" class="subtle-homepage-company-link" onclick="gtag('event', 'homepage_subtle', {'event_category': 'Homepage_subtle', 'event_label': 'homepage_subtle'});">{{ discount.company }}</a>
                  </td>
                  <td><button class="diski-table-button btn btn-outline-secondary" (click)="sendCopyCodeToGa(discount.index); affiliateModalAction(discount)">pak code</button></td>
                  <td>{{ discount.percentage }}</td>
                  <td>{{ formatDate(discount.date) }}</td>
                </tr>
                @if ($index === 2) {
                  <tr>
<!--                    <td class="banner-table-cell extra-table-highlight" colspan="4"><strong>Alle zomersales overzichtelijk verzameld op Ã©Ã©n pagina: <a [routerLink]="['/wieheeftsale']" onclick="gtag('event', 'wieheeftsale', {'event_category': 'Wieheeftsale', 'event_label': 'wieheeftsale_intable_homepage'});">diski.nl/wieheeftsale</a></strong></td>-->
<!--                    <td class="banner-table-cell extra-table-highlight" colspan="4"><strong>Vandaag (zondag 27 juli) nieuwe Zalando beauty code op <a [routerLink]="['/prikbord']" onclick="gtag('event', 'zalando_banner', {'event_category': 'ZalandoBanner', 'event_label': 'zalando_intable_homepage'});">het prikbord</a></strong></td>-->
                    <td class="banner-table-cell extra-table-highlight" colspan="4"><strong>Deel kortingscodes met elkaar op het <a [routerLink]="['/prikbord']" onclick="gtag('event', 'prikbord', {'event_category': 'Prikbord', 'event_label': 'prikbord_intable_homepage'});">diski prikbord!</a></strong></td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                  </tr>
                  <tr>
                    <td class="banner-table-cell giftcard-highlight" colspan="4">â‚¬7.50 gift cards voor heel veel shops! (o.a. Zalando, My Jewellery) <a [routerLink]="['/giftcards']" onclick="gtag('event', 'giftcard', {'event_category': 'Giftcard', 'event_label': 'giftcard_intable_homepage'});">KLIK</a></td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                  </tr>
                }
              }
            </tbody>
          </table>

          <div class="pagination-container">
            <button
                    class="btn btn-primary btn-sm"
                    (click)="prevPage()"
                    [disabled]="page === 1"
            >
              Vorige
            </button>
            <span>Pagina {{ page }} van {{ totalPages }}</span>
            <button
                    class="btn btn-primary btn-sm"
                    (click)="nextPage()"
                    [disabled]="page === totalPages"
            >
              Volgende
            </button>
          </div>
        </div>
      </div>
      <div class="col-sm-1"></div>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-sm-1"></div>
    <div class="col-sm-10">
      <p class="description">
        Webshops zoals <a href="https://nl.shein.com/">Shein</a>, <a href="https://www.loavies.com/nl/">Loavies</a> en
        <a href="https://www.na-kd.com/nl">Nakd</a> verspreiden regelmatig een kortingscode via social media. Door deze in te vullen
        in hun webshop krijg je korting op je bestelling. Meestal is een kortingscode enkele dagen geldig. De kortingscodes
        worden gedeeld door influencers en content creators. Op deze pagina hou ik een overzicht bij van alle kortingscodes
        die ik voorbij zie komen op Instagram. Gebruik het zoekveld bovenaan de pagina om eenvoudig te zoeken naar bijvoorbeeld
        een Nakd kortingscode of een Loavies kortingscode. Neem ook eens een kijkje op mijn instagram account:
        <a href="https://www.instagram.com/wiegeeftkorting/">&#64;wiegeeftkorting</a>
      </p>
    </div>
    <div class="col-sm-1"></div>
  </div>
  <app-footer></app-footer>
</div>

<app-modal
        [isVisible]="isModalVisible"
        [discount]="selectedDiscount"
        (closed)="closeModal()">
</app-modal>
