<div class="container-fluid">
  <div class="content">
    <app-navbar></app-navbar>
    <h1>Online shoppen met kortingscodes</h1>

    <div class="row">
      <div class="col-sm-4"></div>
      <div class="col-sm-4">
        <div class="social-banner alert alert-success" role="alert">
          Volg mij op <a href="https://www.instagram.com/wiegeeftkorting/" onclick="gtag('event', 'insta', {'event_category': 'Social', 'event_label': 'insta_top'});">insta</a> en
          <a href="https://www.tiktok.com/&#64;wiegeeftkorting2" onclick="gtag('event', 'tiktok', {'event_category': 'Social', 'event_label': 'tiktok_top'});">tiktok</a> voor code updates
        </div>

        <div class="social-banner alert alert-success" role="alert">
          €200 shoptegoed en 30% korting bij Temu, klik <a href="https://temu.to/m/u0p32ew176i" target="_blank" onclick="gtag('event', 'temu', {'event_category': 'Temu', 'event_label': 'try_temu'});">hier</a>
        </div>
      </div>
      <div class="col-sm-4"></div>
    </div>

    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10">
        <div class="mb-3 table-search-input">
          <div class="input-wrapper">
            <input
                    type="text"
                    class="form-control"
                    placeholder="Zoek op webshop..."
                    [(ngModel)]="searchTerm"
                    (input)="onSearch()"
            />
            @if (searchTerm) {
              <button
                      type="button"
                      class="btn-close"
                      (click)="searchTerm = ''; onSearch()"
                      aria-label="Clear"
              >&times;</button>
            }
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-striped table-hover table-bordered">
            <thead class="thead-dark">
            <tr>
              <th>
                Korting bij
                <button class="btn btn-sm btn-link sort-button" (click)="sortByCompany()" title="Sort by company">▲▼</button>
              </th>
              <th>Met code</th>
              <th>%</th>
              <th>
                Datum <button class="btn btn-sm btn-link sort-button" (click)="sortByDate()" title="Sort by date">▲▼</button>
              </th>
            </tr>
            </thead>
            <tbody>
              @for (discount of paginatedDiscounts; track discount; let $i = $index) {
                <tr>
                  <td [class.highlight-row]="$i === 0" id="companyRow{{discount.index}}">{{ discount.company }}</td>
                  <td [class.highlight-row]="$i === 0" ><button class="diski-table-button btn btn-outline-secondary" [class.highlight-button]="$i === 0" (click)="sendCopyCodeToGa(discount.index); affiliateModalAction(discount)">pak code</button></td>
                  <td [class.highlight-row]="$i === 0">{{ discount.percentage }}</td>
                  <td [class.highlight-row]="$i === 0">{{ formatDate(discount.date) }}</td>
                </tr>
                @if ($index === 3) {
                  <tr>
                    <td class="banner-table-cell giftcard-highlight" colspan="4">€7.50 gift cards voor heel veel shops! (o.a. Zalando, My Jewellery) <a href="https://linktr.ee/wiegeeftkorting" target="_blank" onclick="gtag('event', 'giftcard', {'event_category': 'Giftcard', 'event_label': 'giftcard_intable_homepage'});">KLIK</a></td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                  </tr>
                  <tr>
<!--                    <td class="banner-table-cell giftcard-highlight" colspan="4"><a href="https://tidd.ly/3Dvhdyg" target="_blank" onclick="gtag('event', 'myprotein_banner', {'event_category': 'Myprotein_banner', 'event_label': 'myprotein_intable_homepage'});">Myprotein</a> bestsellers 30+10% korting met code MPDISKI</td>-->
                    <td class="banner-table-cell giftcard-highlight" colspan="4"><a href="https://tidd.ly/3EcUbwi" target="_blank" onclick="gtag('event', 'lookfantastic_banner', {'event_category': 'Lookfantastic_banner', 'event_label': 'lookfantastic_intable_homepage'});">Lookfantastic</a> geselecteerde producten 25% korting met code LFDISKI</td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                    <td class="hidden-cell"></td>
                  </tr>
                }
              }
            </tbody>
          </table>

          <div class="pagination-container">
            <button
                    class="btn btn-primary btn-sm"
                    (click)="prevPage()"
                    [disabled]="page === 1"
            >
              Vorige
            </button>
            <span>Pagina {{ page }} van {{ totalPages }}</span>
            <button
                    class="btn btn-primary btn-sm"
                    (click)="nextPage()"
                    [disabled]="page === totalPages"
            >
              Volgende
            </button>
          </div>
        </div>
      </div>
      <div class="col-sm-1"></div>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-sm-1"></div>
    <div class="col-sm-10">
      <p class="description">
        Webshops zoals <a href="https://nl.shein.com/">Shein</a>, <a href="https://www.loavies.com/nl/">Loavies</a> en
        <a href="https://www.na-kd.com/nl">Nakd</a> verspreiden regelmatig een kortingscode via social media. Door deze in te vullen
        in hun webshop krijg je korting op je bestelling. Meestal is een kortingscode enkele dagen geldig. De kortingscodes
        worden gedeeld door influencers en content creators. Op deze pagina hou ik een overzicht bij van alle kortingscodes
        die ik voorbij zie komen op Instagram. Gebruik het zoekveld bovenaan de pagina om eenvoudig te zoeken naar bijvoorbeeld
        een Nakd kortingscode of een Loavies kortingscode. Neem ook eens een kijkje op mijn instagram account:
        <a href="https://www.instagram.com/wiegeeftkorting/">&#64;wiegeeftkorting</a>
      </p>
    </div>
    <div class="col-sm-1"></div>
  </div>
  <app-footer></app-footer>
</div>

<app-modal
        [isVisible]="isModalVisible"
        [discount]="selectedDiscount"
        (closed)="closeModal()">
</app-modal>
